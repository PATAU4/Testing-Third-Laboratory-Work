# Testing-Third-Laboratory-Work
третья лабораторная работа, функции работы с API, тесты для функций работы с API

## Содержание работы:

Функций работы с API:

<img width="303" alt="Снимок экрана 2021-12-19 в 13 21 23" src="https://user-images.githubusercontent.com/90206600/146671600-bb91c608-7251-481a-834b-6138f25c2be9.png">

В данных программах реализованы методы: GET, POST, PUT, DELETE

GET:

1. Получение ключа:

<img width="1051" alt="Снимок экрана 2021-12-19 в 13 24 56" src="https://user-images.githubusercontent.com/90206600/146671670-99b69f2f-40d6-473a-a23d-cd995636dc61.png">

Программа обращается за получением ключа API, посредством передачи данных пользователя, чтобы проверилось их наличие в БД. Если такие данные есть, то пользователь считается проверенным и ему .get посылает ключ. Сам же ключ необходим в каждом действии при работе с API.

Реализовал небольшой парсинг по ключу, импортировал модуль Json, достал значение ключа, затем во всем коде импортировал эту программу с значением ключа ( более интеренсый способ передачи ключа, а не тупое копирование из консоли и вставка в новую программу как отдельную переменную )

<img width="325" alt="Снимок экрана 2021-12-19 в 13 43 27" src="https://user-images.githubusercontent.com/90206600/146672143-6293e387-36e4-40cc-942e-14d08304d85d.png">

2. Получение списка питомцев:

<img width="725" alt="Снимок экрана 2021-12-19 в 13 29 20" src="https://user-images.githubusercontent.com/90206600/146671777-6ad4e344-1655-4141-b7e0-371d46c9586a.png">

GET запрос к API за получением информации о питомцах пользовтеля. В списке содержится информация о имени, id, типе животного и фотография на аватарке.

POST:

1. Создание "простого питомца":

<img width="867" alt="Снимок экрана 2021-12-19 в 13 32 48" src="https://user-images.githubusercontent.com/90206600/146671863-c9075c83-5fc1-47a5-a383-a5a93d81f733.png">

Программа передает необходимые параметры для добавления нового питомца:

<img width="839" alt="Снимок экрана 2021-12-19 в 13 35 37" src="https://user-images.githubusercontent.com/90206600/146671950-7bebc5b6-e284-41b7-81df-96f5749953c2.png">

Метод POST:

<img width="475" alt="Снимок экрана 2021-12-19 в 13 40 13" src="https://user-images.githubusercontent.com/90206600/146672045-3f47a155-27e9-41b6-b491-a4dab2a115a6.png">

2. Создание питомца с доп. информацией ( передачей изображения питомца ):

<img width="974" alt="Снимок экрана 2021-12-19 в 13 41 17" src="https://user-images.githubusercontent.com/90206600/146672068-1744c874-7619-407a-b435-bf2753c347cf.png">

Аналогичная структура как и с "простым" питомцем, за исключением дополнительного параметра "Files", в него передается изображение в бинарном виде.


3. Добавление изображения существующему питомцу:

<img width="958" alt="Снимок экрана 2021-12-19 в 13 46 00" src="https://user-images.githubusercontent.com/90206600/146672230-3823de9e-9afe-46ae-8395-05f8dde6607a.png">

По сути это упрощенный код "Создание питомца с доп. информацией", в нем отсутствуют параметры с именем, типом и возрастом животного, поскольку они не нужны. Нужен ID животного для определения нужного нам питомца ( ну и ключ естественно, без него никуда ). 

Были разные идеи как реализовать парсинг по ID, оставил нахождение по имени, поскольку ID это произвольный набор символов и его нереально запоминать, намного легче находить животного по имени и возвращать его ID.

<img width="446" alt="Снимок экрана 2021-12-19 в 13 48 43" src="https://user-images.githubusercontent.com/90206600/146672310-96589875-1814-4a67-b38f-c33bf271cde0.png">

( Arolf в данном случае - имя питомца )


DELETE:

<img width="974" alt="Снимок экрана 2021-12-19 в 13 51 35" src="https://user-images.githubusercontent.com/90206600/146672379-4f4c033c-4abe-4e95-a563-c304c0c2d97b.png">

Метод DELETE, работает как и "Добавление изображения существующему питомцу", парсится ID животного по его имени и удаляется, вместо изменение аватара животного. 

PUT:

<img width="975" alt="Снимок экрана 2021-12-19 в 13 53 55" src="https://user-images.githubusercontent.com/90206600/146672431-e711863c-5386-4b10-93d7-4669c921f458.png">

Метод PUT, реализует изменение данных у существующего питомца. Аналогичная история, по имени животного находится его ID, по ID находится список с информацией о питомце и в него передаются новые данные.



Тесты для функций работы с API:
